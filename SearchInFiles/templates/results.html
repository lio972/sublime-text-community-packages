<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
            xmlns:xi="http://www.w3.org/2001/XInclude"
            xmlns:py="http://genshi.edgewall.org/">
    <head>
        <?python from os.path import splitext ?>

        <title> SearchInFiles Results</title>

        <script type="text/javascript" src="jquery-1.3.2.min.js"></script>
        <script type="text/javascript" src="jquery.tablesorter.min.js"></script>
        <link rel="stylesheet" type="text/css" href="style.css"/>

        <style type='text/css'>
            th {text-align: left}
            td.matches_meta {text-align: right}
            #results{ width : 600px  }
            /*span.todo_list{ display : none  }*/
        </style>

        <script type="text/javascript">
            tablesorter_options = {
               widgets: ['zebra'],
               headers: {
                 3: {sorter: false} }  
             }

            $(document).ready(function(){
                $("#results").tablesorter(tablesorter_options); 
            });
        </script>
    </head>

    <body>
        <h3>
            SearchInFiles results for ${pattern}
        </h3>
        <table id="results" class="tablesorter">
            <thead>
                <tr>
                    <th>
                        File
                    </th>
                    <th>
                        Extension
                    </th>
                    <th>
                        Number Of Matches
                    </th>
                    <th>
                        TODO
                    </th>
                </tr>
            </thead>
            <tbody>
                <tr py:for="(num_matches, file_name) in findings">
                    <td>
                        <a href="sblm://${file_name}">${file_name}</a>
                    </td>
                    <td>
                        ${splitext(file_name)[1][1:]}
                    </td>
                    <td class='matches_meta'>
                         ${num_matches} 
                    </td>
                    <td class='matches_meta todo_list'>
                        <input type='checkbox' />
                    </td>
                </tr>
            </tbody>
        </table>
        
    </body>
</html>